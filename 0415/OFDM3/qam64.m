%当主程序里bits_per_symbol=6;%每符号含比特数,64QAM调制
function[complex_qam64_data]=qam64(bitdata_64)
complex_qam64_data=zeros(1,length(bitdata_64)/6);
X2=reshape(bitdata_64,6,length(bitdata_64)/6);   %%将输入序列变换为行数为6的矩阵形式
B2D=bi2de(X2','left-msb')+1;       %%将二进制数转换为十进制数
Temp=[-7-7*1j -7-5*1j -7-1j -7-3*1j -7+7*1j -7+5*1j -7+1j -7+3*1j...
    -5-7*1j  -5-5*1j  -5-1j  -5-3*1j  -5+7*1j  -5+5*1j  -5+1j  -5+3*1j...
    -1-7*1j  -1-5*1j  -1-1j  -1-3*1j  -1+7*1j  -1+5*1j  -1+1j  -1+3*1j...
    -3-7*1j  -3-5*1j  -3-1j  -3-3*1j  -3+7*1j  -3+5*1j  -3+1j  -3+3*1j...
    7-7*1j   7-5*1j   7-1j   7-3*1j   7+7*1j   7+5*1j   7+1j   7+3*1j...
    5-7*1j   5-5*1j   5-1j   5-3*1j   5+7*1j   5+5*1j   5+1j   5+3*1j...
    1-7*1j   1-5*1j   1-1j   1-3*1j   1+7*1j   1+5*1j   1+1j   1+3*1j...
    3-7*1j   3-5*1j   3-1j   3-3*1j   3+7*1j   3+5*1j   3+1j   3+3*1j]./sqrt(42); %%星座映射矩阵
for i=1:length(bitdata_64)/6
   complex_qam64_data(i)=Temp(B2D(i));
end
